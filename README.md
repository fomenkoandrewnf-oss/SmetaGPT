# SmetaGPT - AI-–æ—Ü–µ–Ω—â–∏–∫ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

## –û –ø—Ä–æ–µ–∫—Ç–µ

SaaS-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞ —Å–º–µ—Ç –ø–æ –¥–∏–∑–∞–π–Ω-–ø—Ä–æ–µ–∫—Ç–∞–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ (OpenAI Vision).

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÑ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∏–∑–∞–π–Ω-–ø—Ä–æ–µ–∫—Ç–æ–≤ (PDF, JPG, PNG)
- ü§ñ AI-–∞–Ω–∞–ª–∏–∑ –ø–ª–∞–Ω–æ–≤ —á–µ—Ä–µ–∑ OpenAI Vision API
- üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Å–º–µ—Ç –ø–æ 11 —ç—Ç–∞–ø–∞–º —Ä–∞–±–æ—Ç
- ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ —Ü–µ–Ω
- üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä—ã–Ω–æ—á–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏
- üìÅ –ö–∞—Ç–∞–ª–æ–≥–∏ —Ü–µ–Ω –∫–æ–º–ø–∞–Ω–∏–∏
- üì§ –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF –∏ XLSX

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Frontend**: Next.js 15 (App Router), TypeScript, Tailwind CSS
- **UI**: shadcn/ui, Radix UI
- **Backend**: Next.js API Routes
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL + Prisma ORM
- **AI**: OpenAI API (gpt-4o-mini Vision)
- **Storage**: Supabase Storage
- **Auth**: Supabase Auth
- **–≠–∫—Å–ø–æ—Ä—Ç**: ExcelJS, Playwright (PDF)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- PostgreSQL 14+
- OpenAI API Key
- Supabase Account (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –®–∞–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
```bash
git clone <repository-url>
cd SmetaGPT
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
npm install
```

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:
```bash
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```env
# Database
DATABASE_URL="postgresql://user:password@localhost:5432/smetagpt"

# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# OpenAI
OPENAI_API_KEY=your_openai_api_key

# App
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate dev

# –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npx prisma db seed
```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä**
```bash
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3000

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/app
  /(auth)/login          # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  /dashboard             # –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
  /projects/new          # –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
  /projects/[id]         # –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
  /estimates/[id]        # –ü—Ä–æ—Å–º–æ—Ç—Ä/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–º–µ—Ç—ã
  /api                   # API Routes
    /projects            # CRUD –ø—Ä–æ–µ–∫—Ç–æ–≤
    /estimates           # CRUD —Å–º–µ—Ç
    /prices              # –ö–∞—Ç–∞–ª–æ–≥–∏ —Ü–µ–Ω
    /market              # –†—ã–Ω–æ—á–Ω—ã–µ —Ü–µ–Ω—ã

/components
  /ui                    # shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  PreUploadForm.tsx      # –§–æ—Ä–º–∞ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  FileUploader.tsx       # –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
  RoomPreview.tsx        # –¢–∞–±–ª–∏—Ü–∞ –ø–æ–º–µ—â–µ–Ω–∏–π
  StageAccordion.tsx     # –ê–∫–∫–æ—Ä–¥–µ–æ–Ω —Å —ç—Ç–∞–ø–∞–º–∏ —Ä–∞–±–æ—Ç
  EstimateTable.tsx      # –¢–∞–±–ª–∏—Ü–∞ —Å–º–µ—Ç—ã
  MarketBadge.tsx        # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä—ã–Ω–∫–æ–º

/lib
  db.ts                  # Prisma client
  validators.ts          # Zod —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  constants.ts           # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (—ç—Ç–∞–ø—ã, –∫–æ–¥—ã –∏ —Ç.–¥.)
  ai-client.ts           # OpenAI –∫–ª–∏–µ–Ω—Ç
  ai-prompts.ts          # –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è Vision API
  ai-analyze.ts          # –ü–∞–π–ø–ª–∞–π–Ω –∞–Ω–∞–ª–∏–∑–∞
  rules.ts               # –î–≤–∏–∂–æ–∫ —Ä–∞—Å—á—ë—Ç–∞ —Ä–∞–±–æ—Ç
  exporter.ts            # –≠–∫—Å–ø–æ—Ä—Ç PDF/XLSX
  pdf-utils.ts           # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è PDF
  supabase.ts            # Supabase –∫–ª–∏–µ–Ω—Ç
  utils.ts               # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã

/prisma
  schema.prisma          # –°—Ö–µ–º–∞ –ë–î
  seed.ts                # Seed –¥–∞–Ω–Ω—ã–µ
```

## –≠—Ç–∞–ø—ã —Ä–∞–±–æ—Ç

1. **MASONRY** - –ö–ª–∞–¥–∫–∞ —Å—Ç–µ–Ω
2. **PLASTER** - –®—Ç—É–∫–∞—Ç—É—Ä–∫–∞ —Å—Ç–µ–Ω
3. **ELEC_ROUGH** - –ß–µ—Ä–Ω–æ–≤–∞—è —ç–ª–µ–∫—Ç—Ä–∏–∫–∞
4. **PLUMB_ROUGH** - –ß–µ—Ä–Ω–æ–≤–∞—è —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞
5. **SCREED** - –°—Ç—è–∂–∫–∞
6. **GKL** - –ì–ö–õ (–ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∏/–ø–æ—Ç–æ–ª–∫–∏/–∫–æ—Ä–æ–±–∞)
7. **TILE** - –ü–ª–∏—Ç–∫–∞ (–ø–æ–ª/—Å—Ç–µ–Ω—ã)
8. **PAINT_PREP** - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç–µ–Ω –ø–æ–¥ –æ–∫—Ä–∞—Å–∫—É
9. **FLOOR** - –ù–∞–ø–æ–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
10. **PAINT** - –û–∫—Ä–∞—Å–∫–∞ —Å—Ç–µ–Ω/–ø–æ—Ç–æ–ª–∫–æ–≤
11. **FINISH** - –§–∏–Ω–∏—à–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

## API Endpoints

### –ü—Ä–æ–µ–∫—Ç—ã
- `GET /api/projects` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
- `POST /api/projects` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
- `GET /api/projects/:id` - –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- `PATCH /api/projects/:id` - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
- `DELETE /api/projects/:id` - –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### –§–∞–π–ª—ã
- `POST /api/projects/:id/files` - –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª

### –ê–Ω–∞–ª–∏–∑
- `POST /api/projects/:id/analyze` - –ó–∞–ø—É—Å—Ç–∏—Ç—å AI-–∞–Ω–∞–ª–∏–∑
- `GET /api/projects/:id/analyze` - –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –°–º–µ—Ç—ã
- `POST /api/estimates` - –°–æ–∑–¥–∞—Ç—å —Å–º–µ—Ç—É
- `GET /api/estimates/:id` - –ü–æ–ª—É—á–∏—Ç—å —Å–º–µ—Ç—É
- `PATCH /api/estimates/:id/items` - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–æ–∫–∏
- `POST /api/estimates/:id/export?format=pdf|xlsx` - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å

## Roadmap

### M0 (MVP)
- [x] –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [x] –°—Ö–µ–º–∞ –ë–î
- [x] Pre-Upload —Ñ–æ—Ä–º–∞
- [x] AI-–∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ OpenAI Vision
- [x] –†–∞—Å—á—ë—Ç —Å–º–µ—Ç –ø–æ 11 —ç—Ç–∞–ø–∞–º
- [x] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–º–µ—Ç
- [x] –≠–∫—Å–ø–æ—Ä—Ç PDF/XLSX
- [ ] –î–µ–ø–ª–æ–π –Ω–∞ production

### M1
- [ ] –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Supabase Auth
- [ ] Supabase Storage –¥–ª—è —Ñ–∞–π–ª–æ–≤
- [ ] –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] Market compare
- [ ] –£–ª—É—á—à–µ–Ω–∏–µ UI/UX

### M2
- [ ] –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Ü–µ–Ω
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- [ ] –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π —Å–º–µ—Ç
- [ ] –®–∞—Ä–∏–Ω–≥ —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å–º–µ—Ç—ã

### M3
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DWG —Ñ–∞–π–ª–æ–≤
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —É–∑–ª—ã (–¥–≤–µ—Ä–∏/–æ–∫–Ω–∞/–ø—Ä–æ—ë–º—ã)
- [ ] Multi-tenancy –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–°

## –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- Email: contact@smetagpt.ru
- Website: https://smetagpt.ru
